{{ define "write_validated_must_get_agent_activity_description" }}
<p>A scenario where <b><code>write</code></b> agents create entries in batches of 10, while zero-arc <b><code>must_get_agent_activity</code></b> agents repeatedly attempt to create entries that depend on a batch.</p>

<p>The purpose of this scenario is to measure the performance of <code>must_get_agent_activity</code> calls, and to measure the error rate (that is, the number of times validation can't complete because of an <code>UnresolvedDependencies</code> error).</p>
{{ end }}

{{ template "scenario_summary" (dict
    "title" "Write Validated <code>must_get_agent_activity</code>"
    "description" (tmpl.Exec "write_validated_must_get_agent_activity_description")
    "data" .run_summary
) }}

<div class="scenario-metrics">
    {{ with .scenario_metrics }}
        {{ template "scenario_metric" (dict
            "name" "Highest observed <code>action_seq</code>"
            "description" "The change in the <code>must_get_agent_activity</code> peer's source chain top over the run."
            "content" (tmpl.Exec "delta" .write_validated_must_get_agent_activity_chain_len)
        ) }}

        {{ template "scenario_metric" (dict
            "name" "<code>create_validated_sample_entry</code> zome call timing"
            "description" "The time taken to complete the zome function call that creates the entry that depends on a <code>write</code> agent's source chain."
            "content" (tmpl.Exec "timings_overall_and_per_agent" .create_validated_sample_entry_zome_calls)
        ) }}

        {{ template "scenario_metric" (dict
            "name" "Error count"
            "description" "The number of errors accumulated over the run."
            "content" (tmpl.Exec "scalar" (dict "value" .error_count))
        ) }}
    {{ end }}
</div>

[
  {
    "apiVersion": "influxdata.com/v2alpha1",
    "kind": "Dashboard",
    "metadata": {
      "name": "boring-moser-154001"
    },
    "spec": {
      "charts": [
        {
          "axes": [
            {
              "name": "x"
            },
            {
              "label": "ms",
              "name": "y"
            }
          ],
          "binSize": 10,
          "colors": [
            {
              "hex": "#000004"
            },
            {
              "hex": "#100b2d"
            },
            {
              "hex": "#2c115f"
            },
            {
              "hex": "#51127c"
            },
            {
              "hex": "#721f81"
            },
            {
              "hex": "#932b80"
            },
            {
              "hex": "#b73779"
            },
            {
              "hex": "#d8456c"
            },
            {
              "hex": "#f1605d"
            },
            {
              "hex": "#fc8961"
            },
            {
              "hex": "#feb078"
            },
            {
              "hex": "#fed799"
            }
          ],
          "height": 4,
          "kind": "Heatmap",
          "legendColorizeRows": true,
          "legendOpacity": 1,
          "legendOrientationThreshold": 100000000,
          "name": "Publish DHT ops workflow duration",
          "queries": [
            {
              "query": "import \"math\"\nfrom(bucket: \"windtunnel\")\n  |> range(start: v.timeRangeStart, stop: v.timeRangeStop)\n  |> filter(fn: (r) => r[\"run_id\"] == v.RunId)\n  |> filter(fn: (r) => r[\"_measurement\"] == \"hc.conductor.workflow.duration.s\")\n  |> filter(fn: (r) => r[\"workflow\"] == \"publish_dht_ops_consumer\")\n  |> filter(fn: (r) => r[\"_field\"] == \"value\")  \n  |> map(fn: (r) => {\n      us = r._value * 1000000.0\n      roundedMicroseconds = math.round(x: us)\n      ms = roundedMicroseconds / 1000.0\n      return { r with _value: ms }\n    })    \n  |> aggregateWindow(every: v.windowPeriod, fn: mean, createEmpty: false)\n  |> yield(name: \"mean\")\n  |> keep(columns: [\"_value\", \"_time\", \"dna_hash\"])"
            }
          ],
          "staticLegend": {},
          "width": 6,
          "xCol": "_time",
          "yCol": "_value"
        },
        {
          "axes": [
            {
              "name": "x"
            },
            {
              "label": "ms",
              "name": "y"
            }
          ],
          "binSize": 10,
          "colors": [
            {
              "hex": "#000004"
            },
            {
              "hex": "#100b2d"
            },
            {
              "hex": "#2c115f"
            },
            {
              "hex": "#51127c"
            },
            {
              "hex": "#721f81"
            },
            {
              "hex": "#932b80"
            },
            {
              "hex": "#b73779"
            },
            {
              "hex": "#d8456c"
            },
            {
              "hex": "#f1605d"
            },
            {
              "hex": "#fc8961"
            },
            {
              "hex": "#feb078"
            },
            {
              "hex": "#fed799"
            }
          ],
          "height": 4,
          "kind": "Heatmap",
          "legendColorizeRows": true,
          "legendOpacity": 1,
          "legendOrientationThreshold": 100000000,
          "name": "App validation workflow duration",
          "queries": [
            {
              "query": "import \"math\"\nfrom(bucket: \"windtunnel\")\n  |> range(start: v.timeRangeStart, stop: v.timeRangeStop)\n  |> filter(fn: (r) => r[\"run_id\"] == v.RunId)\n  |> filter(fn: (r) => r[\"_measurement\"] == \"hc.conductor.workflow.duration.s\")\n  |> filter(fn: (r) => r[\"workflow\"] == \"app_validation_consumer\")\n  |> map(fn: (r) => {\n      us = r._value * 1000000.0\n      roundedMicroseconds = math.round(x: us)\n      ms = roundedMicroseconds / 1000.0\n      return { r with _value: ms }\n    })\n  |> aggregateWindow(every: v.windowPeriod, fn: mean, createEmpty: false)\n  |> yield(name: \"mean\")\n  |> keep(columns: [\"_value\", \"_time\", \"dna_hash\"])"
            }
          ],
          "staticLegend": {},
          "width": 4,
          "xCol": "_time",
          "yCol": "_value",
          "yPos": 4
        },
        {
          "axes": [
            {
              "name": "x"
            },
            {
              "label": "ms",
              "name": "y"
            }
          ],
          "binSize": 10,
          "colors": [
            {
              "hex": "#000004"
            },
            {
              "hex": "#100b2d"
            },
            {
              "hex": "#2c115f"
            },
            {
              "hex": "#51127c"
            },
            {
              "hex": "#721f81"
            },
            {
              "hex": "#932b80"
            },
            {
              "hex": "#b73779"
            },
            {
              "hex": "#d8456c"
            },
            {
              "hex": "#f1605d"
            },
            {
              "hex": "#fc8961"
            },
            {
              "hex": "#feb078"
            },
            {
              "hex": "#fed799"
            }
          ],
          "height": 4,
          "kind": "Heatmap",
          "legendColorizeRows": true,
          "legendOpacity": 1,
          "legendOrientationThreshold": 100000000,
          "name": "P2P Event duration",
          "queries": [
            {
              "query": "import \"math\"\nfrom(bucket: \"windtunnel\")\n  |> range(start: v.timeRangeStart, stop: v.timeRangeStop)\n  |> filter(fn: (r) => r[\"run_id\"] == v.RunId)\n  |> filter(fn: (r) => r[\"_measurement\"] == \"hc.holochain_p2p.request.duration.s\")\n  |> filter(fn: (r) => r[\"_field\"] == \"value\")  \n  |> map(fn: (r) => {\n      us = r._value * 1000000.0\n      roundedMicroseconds = math.round(x: us)\n      ms = roundedMicroseconds / 1000.0\n      return { r with _value: ms }\n    })    \n  |> aggregateWindow(every: v.windowPeriod, fn: mean, createEmpty: false)\n  |> yield(name: \"mean\")"
            }
          ],
          "staticLegend": {},
          "width": 6,
          "yPos": 8
        },
        {
          "axes": [
            {
              "name": "x"
            },
            {
              "label": "ms",
              "name": "y"
            }
          ],
          "binSize": 10,
          "colors": [
            {
              "hex": "#000004"
            },
            {
              "hex": "#100b2d"
            },
            {
              "hex": "#2c115f"
            },
            {
              "hex": "#51127c"
            },
            {
              "hex": "#721f81"
            },
            {
              "hex": "#932b80"
            },
            {
              "hex": "#b73779"
            },
            {
              "hex": "#d8456c"
            },
            {
              "hex": "#f1605d"
            },
            {
              "hex": "#fc8961"
            },
            {
              "hex": "#feb078"
            },
            {
              "hex": "#fed799"
            }
          ],
          "height": 4,
          "kind": "Heatmap",
          "legendColorizeRows": true,
          "legendOpacity": 1,
          "legendOrientationThreshold": 100000000,
          "name": "Sys validation workflow duration",
          "queries": [
            {
              "query": "import \"math\"\nfrom(bucket: \"windtunnel\")\n  |> range(start: v.timeRangeStart, stop: v.timeRangeStop)\n  |> filter(fn: (r) => r[\"run_id\"] == v.RunId)\n  |> filter(fn: (r) => r[\"_measurement\"] == \"hc.conductor.workflow.duration.s\")\n  |> filter(fn: (r) => r[\"workflow\"] == \"sys_validation_consumer\")\n  |> filter(fn: (r) => r[\"_field\"] == \"value\")\n  |> map(fn: (r) => {\n      us = r._value * 1000000.0\n      roundedMicroseconds = math.round(x: us)\n      ms = roundedMicroseconds / 1000.0\n      return { r with _value: ms }\n    })    \n  |> aggregateWindow(every: v.windowPeriod, fn: mean, createEmpty: false)\n  |> yield(name: \"mean\")"
            }
          ],
          "staticLegend": {},
          "width": 4,
          "xCol": "_time",
          "xPos": 4,
          "yCol": "_value",
          "yPos": 4
        },
        {
          "axes": [
            {
              "name": "x"
            },
            {
              "label": "ms",
              "name": "y"
            }
          ],
          "binSize": 10,
          "colors": [
            {
              "hex": "#000004"
            },
            {
              "hex": "#100b2d"
            },
            {
              "hex": "#2c115f"
            },
            {
              "hex": "#51127c"
            },
            {
              "hex": "#721f81"
            },
            {
              "hex": "#932b80"
            },
            {
              "hex": "#b73779"
            },
            {
              "hex": "#d8456c"
            },
            {
              "hex": "#f1605d"
            },
            {
              "hex": "#fc8961"
            },
            {
              "hex": "#feb078"
            },
            {
              "hex": "#fed799"
            }
          ],
          "height": 4,
          "kind": "Heatmap",
          "legendColorizeRows": true,
          "legendOpacity": 1,
          "legendOrientationThreshold": 100000000,
          "name": "Integrate DHT ops workflow duration",
          "queries": [
            {
              "query": "import \"math\"\nfrom(bucket: \"windtunnel\")\n  |> range(start: v.timeRangeStart, stop: v.timeRangeStop)\n  |> filter(fn: (r) => r[\"run_id\"] == v.RunId)\n  |> filter(fn: (r) => r[\"_measurement\"] == \"hc.conductor.workflow.duration.s\")\n  |> filter(fn: (r) => r[\"workflow\"] == \"integrate_dht_ops_consumer\")\n  |> filter(fn: (r) => r[\"_field\"] == \"value\")\n  |> map(fn: (r) => {\n      us = r._value * 1000000.0\n      roundedMicroseconds = math.round(x: us)\n      ms = roundedMicroseconds / 1000.0\n      return { r with _value: ms }\n    })  \n  |> aggregateWindow(every: v.windowPeriod, fn: mean, createEmpty: false)\n  |> yield(name: \"mean\")\n  |> keep(columns: [\"_value\", \"_time\", \"dna_hash\"])"
            }
          ],
          "staticLegend": {},
          "width": 6,
          "xCol": "_time",
          "xPos": 6,
          "yCol": "_value"
        },
        {
          "axes": [
            {
              "name": "x"
            },
            {
              "label": "ms",
              "name": "y"
            }
          ],
          "binSize": 10,
          "colors": [
            {
              "hex": "#000004"
            },
            {
              "hex": "#100b2d"
            },
            {
              "hex": "#2c115f"
            },
            {
              "hex": "#51127c"
            },
            {
              "hex": "#721f81"
            },
            {
              "hex": "#932b80"
            },
            {
              "hex": "#b73779"
            },
            {
              "hex": "#d8456c"
            },
            {
              "hex": "#f1605d"
            },
            {
              "hex": "#fc8961"
            },
            {
              "hex": "#feb078"
            },
            {
              "hex": "#fed799"
            }
          ],
          "height": 4,
          "kind": "Heatmap",
          "legendColorizeRows": true,
          "legendOpacity": 1,
          "legendOrientationThreshold": 100000000,
          "name": "post_commit() duration",
          "queries": [
            {
              "query": "import \"math\"\nfrom(bucket: \"windtunnel\")\n  |> range(start: v.timeRangeStart, stop: v.timeRangeStop)\n  |> filter(fn: (r) => r[\"run_id\"] == v.RunId)\n  |> filter(fn: (r) => r[\"_measurement\"] == \"hc.conductor.post_commit.duration.s\")\n  |> filter(fn: (r) => r[\"_field\"] == \"value\")  \n  |> map(fn: (r) => {\n      us = r._value * 1000000.0\n      roundedMicroseconds = math.round(x: us)\n      ms = roundedMicroseconds / 1000.0\n      return { r with _value: ms }\n    })    \n  |> aggregateWindow(every: v.windowPeriod, fn: mean, createEmpty: false)\n  |> yield(name: \"mean\")"
            }
          ],
          "staticLegend": {},
          "width": 6,
          "xCol": "_time",
          "xPos": 6,
          "yCol": "_value",
          "yPos": 8
        },
        {
          "axes": [
            {
              "name": "x"
            },
            {
              "label": "ms",
              "name": "y"
            }
          ],
          "binSize": 10,
          "colors": [
            {
              "hex": "#000004"
            },
            {
              "hex": "#100b2d"
            },
            {
              "hex": "#2c115f"
            },
            {
              "hex": "#51127c"
            },
            {
              "hex": "#721f81"
            },
            {
              "hex": "#932b80"
            },
            {
              "hex": "#b73779"
            },
            {
              "hex": "#d8456c"
            },
            {
              "hex": "#f1605d"
            },
            {
              "hex": "#fc8961"
            },
            {
              "hex": "#feb078"
            },
            {
              "hex": "#fed799"
            }
          ],
          "height": 4,
          "kind": "Heatmap",
          "legendColorizeRows": true,
          "legendOpacity": 1,
          "legendOrientationThreshold": 100000000,
          "name": "Validation receipt workflow duration",
          "queries": [
            {
              "query": "import \"math\"\nfrom(bucket: \"windtunnel\")\n  |> range(start: v.timeRangeStart, stop: v.timeRangeStop)\n  |> filter(fn: (r) => r[\"run_id\"] == v.RunId)\n  |> filter(fn: (r) => r[\"_measurement\"] == \"hc.conductor.workflow.duration.s\")\n  |> filter(fn: (r) => r[\"workflow\"] == \"validation_receipt_consumer\")\n  |> filter(fn: (r) => r[\"_field\"] == \"value\")\n  |> map(fn: (r) => {\n      us = r._value * 1000000.0\n      roundedMicroseconds = math.round(x: us)\n      ms = roundedMicroseconds / 1000.0\n      return { r with _value: ms }\n    })    \n  |> aggregateWindow(every: v.windowPeriod, fn: mean, createEmpty: false)\n  |> yield(name: \"mean\")"
            }
          ],
          "staticLegend": {},
          "width": 4,
          "xCol": "_time",
          "xPos": 8,
          "yCol": "_value",
          "yPos": 4
        }
      ],
      "description": "Generic charts for Holochain workflows and other conductor metrics.",
      "name": "Holochain Conductor"
    }
  }
]